# Установка на OS Linux из архива

Описание установки приложения **Anime DB** на Linux-подобных OS на примере Ubuntu 12.04 LTS.
Процесс установки приложения в других OS семейства Linux будет мало отличатся от описанных шагов.

<a name="stap-1"></a>
## Шаг 1: Установка PHP

Приложение написано на языке программирования PHP и для работы ему необходим PHP интерпретатор. В случае OS Windows
есть скомпилированная версия не требующая установки в системе и потому приложение на Windows легко устанавливается. На
других OS таких как Ubuntu необходимо устанавливать интерпретатор в системе.

Для упрощения работы PHP будет установлен из пакетов. В репозиториях Ubuntu сейчас находится PHP версии 5.3, а для
работы приложения требуется 5.4 и выше, в связи с чем, добавляем новый репозиторий со свежей версией:

    sudo add-apt-repository ppa:ondrej/php5

Обновить информацию о доступных пакетах и обновить их:

    sudo apt-get update && sudo apt-get upgrade

Установить PHP 5.5 и основные расширения:

    sudo apt-get install php5-cli php5-curl php5-gd php5-sqlite php5-tidy

<a name="stap-2"></a>
## Шаг 2: Скачивание архива с приложением

На втором этапе необходимо скачать архив с приложением со всеми предустановленными зависимостями.
Если Вы уже скачали архив, Вы можете перейти к [шагу 3](#stap-3).

Зайдите на официальный сайт приложения по адресу http://anime-db.ru/.

![Главная страница сайта Anime DB](https://raw.github.com/anime-db/anime-db-docs/master/images/ru/install/home_page_nix.jpg)

Щелкаете по кнопке **Скачать** для того что бы начать загрузку архива c последней версией приложения.

<a name="stap-3"></a>
## Шаг 3: Установка и запуск приложения

После скачивания архива с приложением, распакуйте его в директорию в которой вы хотите видеть приложение. Рекомендуем
распаковать в домашнюю директорию.

Для того что бы запустить приложение Вам необходимо открыть терминал и перейти в директорию в которую вы
распаковали приложение. В корне директории находится скрипт `AnimeDB` отвечающий за управление приложением.
Для запуска приложения выполните команду:

    ./AnimeDB start

После того как Вы запустите приложение Вы можете открыть свой браузер и перейти по адресу <http://localhost:56780/>. По этому адресу
приложение доступно для пользования.

> Если Ваш компьютер доступен в локальной сети, то Вы можете подключится к приложению с любого компьютера в сети
используя IP адрес вашего компьютера в локальной сети и порта 56780. Пример: <http://192.168.0.1:56780/>. Так же Вы можете
изменить порт подключения отредактировав параметр `port` в файле `AnimeDB`. Пример установки порта 80:
> ```
> port=80
> ```

После того как вы закончили работу с приложением вы можете остановить его выполнив скрипт:

    ./AnimeDB stop

После обновления приложения вам может понадобится перезапустить приложение. Сделать это можно выполнив команду:

    ./AnimeDB restart

> Вы можете установить приложение как сервис что бы упростить работу с ним или запускать вместе с системой. Для этого
Вам необходимо отредактировать параметр `path` в файле `AnimeDB` и указать в нем абсолютный путь к приложению.
> ```
> path=/path/to/anime-db
> ```
> Далее Вам необходимо создать ссылку на скрипт в сервисах:
> ```
> sudo ln -s /path/to/anime-db/AnimeDB /etc/init.d/AnimeDB
> ```
> Теперь вы можете запускать и останавливать приложение используя стандартный интерфейс сервисов:
> ```
> service AnimeDB start
> ```
> Для того что бы приложение запускалось при запуске системы необходимо выполнить команду:
> ```
> sudo update-rc.d AnimeDB defaults
> ```