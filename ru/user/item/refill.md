# Перезаполнение полей записи

Механизм перезаполнения полей позволяет заполнять каждое [поле записи](/ru/user/item/fields.md) в отдельности, а не
всю запись целиком как в случае [заполнения записи из источника](/ru/user/item/add/fill.md). Это позволяет заполнять
поля записи из разных источников не прибегая к ручной работе. Заполнение отдельных полей, также как и заполнение всей
записи реализуется за счет [плагинов](/ru/user/general/plugins.md). Список полей поддерживаемых одним плагином может
отличатся от списка полей другого плагина.

Механизм заполнения полей по отдельности доступен при заполнении записи из источника или при редактировании записи. В
форме редактирования записи, радом с метками для полей, может присутствовать значок заливки обозначающий то что это
может быть заполнено. При наведении мыши на значок появится выпадающее меню со списком плагинов поддерживающих
перезаполнение этого поля.

![Перезаполнение поля записи](https://raw.github.com/anime-db/anime-db-docs/master/images/ru/item/refill_field.jpg)

Процедура заполнения отдельных поле для разных плагинов мало отличается. Общий алгоритм описан на следующей схеме:

![Алгоритм перезаполнения полей записи](https://raw.github.com/anime-db/anime-db-docs/master/images/ru/item/refill_algorithm.jpg)

1. Определить можно ли однозначно идентифицировать запись в источнике по имеющимся данным.
2. Если однозначно идентифицировать нельзя то выполняется поиск записи в источнике.
3. Вам выводится список возможных записей и вам необходимо выбрать ту которая соответствует записи.
4. Получение данных для поля из источника и отображение для подтверждения добавления.

Рассмотрим заполнение отдельного поля на примере плагина **World-Art.ru** и записи [Хранитель Священного
Духа](http://www.world-art.ru/animation/animation.php?id=5993). Предположим что запись уже добавлена в базу данных и мы
находимся на странице редактирования записи. Плагин **World-Art.ru** использует для идентификации записи ссылку из
[внешних источников](/ru/user/item/fields.md#%D0%92%D0%BD%D0%B5%D1%88%D0%BD%D0%B8%D0%B5-%D0%B8%D1%81%D1%82%D0%BE%D1%87%D0%BD%D0%B8%D0%BA%D0%B8)
записи. Рассмотрим вариант когда у записи не ссылки на ее страницу на сайте [World-Art.ru](http://world-art.ru/). В
этом случае будет произведен поиск записи. Щелкните по ссылке **World-Art.ru** в меню заполнения для поля *Дата
премьеры*. Будет произведен поиск записи по базе данных *World-Art* и Вам будет отображено всплывающее окно со списком
найденных совпадений.

![Поиск источника заполнения](https://raw.github.com/anime-db/anime-db-docs/master/images/ru/item/refill_popup_search.jpg)

В данном случае найдено только одно совпадение. Выберете его что бы выполнить операцию заполнения поля и Вам будет
отображено новое всплывающее окно с заполненным полем.

![Заполнение записи](https://raw.github.com/anime-db/anime-db-docs/master/images/ru/item/refill_popup.jpg)

Нажмите кнопку *Перезаполнить* что бы установить новое значение для поля *Дата премьеры*. После этого будет
установлено новое значение для поля и добавлена ссылка на запись во *Внешние источники*. После этого Вы можете
продолжить редактировать запись, заполнять другие поля или можете сохранить запись. Плагин **World-Art.ru**
идентифицирует запись по ссылку из внешних источников которая была добавлена в результате поиска и поэтому поиск
выполнятся больше не будет.