# Перезаполнение полей записи

Механизм перезаполнения полей позволяет заполнять каждое [поле записи](/ru/user/item/fields.md) в отдельности, а не
всю запись целиком как в случае [заполнения записи из источника](/ru/user/item/add/fill.md). Это позволяет заполнять
поля записи из разных источников не прибегая к ручной работе. Заполнение отдельных полей, также как и заполнение всей
записи реализуется за счет [плагинов](/ru/user/general/plugins.md). Список полей, поддерживаемых одним плагином, может
отличаться от списка полей другого плагина.

Механизм заполнения полей по отдельности доступен при заполнении записи из источника или при редактировании записи. В
форме редактирования записи, рядом с метками для полей, может присутствовать значок заливки, обозначающий, что это
может быть заполнено. При наведении мыши на значок появится выпадающее меню со списком плагинов, поддерживающих
перезаполнение этого поля.

![Перезаполнение поля записи](https://raw.githubusercontent.com/anime-db/anime-db-docs/master/images/ru/item/refill_field.jpg)

Процедура заполнения отдельных поле для разных плагинов мало отличается. Общий алгоритм описан на следующей схеме:

![Алгоритм перезаполнения полей записи](https://raw.githubusercontent.com/anime-db/anime-db-docs/master/images/ru/item/refill_algorithm.jpg)

1. Определить, можно ли однозначно идентифицировать запись в источнике по имеющимся данным.
2. Если однозначно идентифицировать нельзя, выполнить поиск записи в источнике.
3. Выводится список возможных записей, и необходимо выбрать соответствующую запись.
4. Получить данные для поля из источника и отобразить для подтверждения добавления.

Рассмотрим заполнение отдельного поля на примере плагина **World-Art.ru** и записи [Хранитель Священного
Духа](http://www.world-art.ru/animation/animation.php?id=5993). Предположим, что запись уже добавлена в базу данных, и мы
находимся на странице редактирования записи. Плагин **World-Art.ru** использует для идентификации записи ссылку из
[внешних источников](/ru/user/item/fields.md#%D0%92%D0%BD%D0%B5%D1%88%D0%BD%D0%B8%D0%B5-%D0%B8%D1%81%D1%82%D0%BE%D1%87%D0%BD%D0%B8%D0%BA%D0%B8)
записи. Рассмотрим вариант, когда у записи нет ссылки на ее страницу на сайте [World-Art.ru](http://world-art.ru/). В
этом случае будет произведен поиск записи. Щелкните по ссылке **World-Art.ru** в меню заполнения для поля *Дата
премьеры*. Будет произведен поиск записи по базе данных *World-Art*, и отобразится всплывающее окно со списком
найденных совпадений.

![Поиск источника заполнения](https://raw.githubusercontent.com/anime-db/anime-db-docs/master/images/ru/item/refill_popup_search.jpg)

В данном случае найдено только одно совпадение. Выберите его, что бы выполнить операцию заполнения поля, и будет
отображено новое всплывающее окно с заполненным полем.

![Заполнение записи](https://raw.githubusercontent.com/anime-db/anime-db-docs/master/images/ru/item/refill_popup.jpg)

Нажмите кнопку *Перезаполнить* что бы установить новое значение для поля *Дата премьеры*. После этого будет
установлено новое значение для поля и добавлена ссылка на запись во *Внешние источники*. После этого можете
продолжить редактировать запись, заполнять другие поля или можете сохранить запись. Плагин **World-Art.ru**
идентифицирует запись по ссылке из внешних источников, которая была добавлена в результате поиска, и поэтому поиск
выполняться больше не будет.